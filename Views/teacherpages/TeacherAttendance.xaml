<Page x:Class="AttendenceManagementSystem.Views.teacherpages.TeacherAttendance"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:AttendenceManagementSystem.Views.teacherpages"
      xmlns:fa="http://schemas.fontawesome.io/icons/"
       mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="670"
      MouseDown="TeacherAttendancePage_MouseDown"
 
 
      Title="TeacherAttendance"
      Background="Transparent">

    <TabControl x:Name="TeacherAttendanceTABControl" Background="Transparent"   Margin="10,8,10,8"  >
        
        <TabItem Header="View Attendance">
            
            <Grid Margin="12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="3.9*"/>
                    
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions >
                    <ColumnDefinition Width="1.9*"/>
                    <ColumnDefinition Width="1.9*"/>

                    <ColumnDefinition Width="1.2*"/>

                </Grid.ColumnDefinitions>

                <!-- Search and Filter Section -->

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Width="Auto"
                            Grid.Row="0" Grid.Column="0">

                    <ComboBox x:Name="CourseComboBox" Height="25" MinWidth="100" 
                              Margin="0,0,0,0" HorizontalAlignment="Stretch" 
                              VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                              SelectionChanged="OnCourseChanged">

                    </ComboBox>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Width="Auto"
                         Grid.Row="0" Grid.Column="1">

                        <DatePicker x:Name="AttendanceDatePicker"  Height="30" MinWidth="120" Margin="8,0,8,0" SelectedDateChanged="OnDateChanged"
                                    HorizontalAlignment="Stretch"  >
                            
                        <DatePicker.Resources>
                            <Style TargetType="DatePickerTextBox">
                                <Setter Property="IsReadOnly" Value="True" />
                                <Setter Property="VerticalContentAlignment" Value="Center"/>
                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                <Setter Property="Background" Value="Transparent"/>

                            </Style>
                            <Style TargetType="DatePicker">
                                <Setter Property="BorderThickness" Value="0,0,0,3" />
                                <Setter Property="BorderBrush" Value="#5c0390"/>

                            </Style>
                        </DatePicker.Resources>
                    </DatePicker>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Width="Auto"
                             Grid.Row="0" Grid.Column="2">

                    <Button x:Name="Edit_btn" Margin="8,0,8,0" Content="EDIT/PRINT"
                            Style="{StaticResource DataGridUpdatebtn}" Click="Edit_btn_Click" >

                    </Button>

                </StackPanel>

                <!-- Search and Filter Section -->
                <!--<DockPanel Grid.Row="0" Grid.ColumnSpan="2" Margin="100,10,190,0"
                           VerticalAlignment="Center" HorizontalAlignment="Center">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Width="Auto" DockPanel.Dock="Right">

                        <ComboBox x:Name="CourseComboBox" Height="25" MinWidth="100"  
                             Margin="0,0,0,0" HorizontalAlignment="Stretch" 
                               VerticalContentAlignment="Center"
                                  HorizontalContentAlignment="Center"
                              SelectionChanged="OnCourseChanged">

                        </ComboBox>
                        

                        <DatePicker x:Name="AttendanceDatePicker"  Height="30" MinWidth="120" Margin="8,0,8,0" SelectedDateChanged="OnDateChanged"
                                    HorizontalAlignment="Stretch"  >
                            <DatePicker.Resources>
                                <Style TargetType="DatePickerTextBox">
                                    <Setter Property="IsReadOnly" Value="True" />
                                    <Setter Property="VerticalContentAlignment" Value="Center"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    <Setter Property="Background" Value="Transparent"/>
                                    
                                </Style>
                                <Style TargetType="DatePicker">
                                    <Setter Property="BorderThickness" Value="0,0,0,3" />
                                    <Setter Property="BorderBrush" Value="#5c0390"/>
                                    
                                </Style>
                            </DatePicker.Resources>
                        </DatePicker>

                        <Button x:Name="Attendance_btn" Margin="8,0,8,0" Content="take" Style="{StaticResource DataGridUpdatebtn}">

                        </Button>

                    </StackPanel>-->
                    
                    <!--<StackPanel HorizontalAlignment="Left" VerticalAlignment="Center" Width="Auto" DockPanel.Dock="Left">
                        
                        <ComboBox x:Name="CourseComboBox" Height="30" MinWidth="150"  
                                  Margin="5" HorizontalAlignment="Stretch" 
                                  SelectionChanged="OnCourseChanged">                  

                        </ComboBox>
                        
                    </StackPanel>-->

                   

                <!--</DockPanel>-->

                <DataGrid x:Name="AttendanceDataGrid" Grid.ColumnSpan="3" Grid.Row="1"
                          AutoGenerateColumns="False"
                          RowHeaderWidth="0"
                          VerticalGridLinesBrush="Transparent" 
                          HorizontalGridLinesBrush="Transparent"
                          Background="Transparent" 
                          BorderBrush="Transparent" 
                          BorderThickness="2"
                          CanUserResizeColumns="False"
                          CanUserResizeRows="False"
                           RowHeight="30"
                           ColumnHeaderHeight="30"
                          CanUserDeleteRows="False"
                          CanUserAddRows="False"
                          CanUserReorderColumns="False"
                          IsReadOnly="True"
                          RowStyle="{StaticResource DataGridRowStyle}"
                          ColumnHeaderStyle="{StaticResource DataGridColumnHeaderStyle}"  Margin="50,20,50,30" Width="auto"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Auto">
              
                    <!--column definitions-->
                    <DataGrid.Columns >
                        <DataGridTextColumn Header="Reg. No."  Binding="{Binding Registraton}" Width="*"  MaxWidth="100"  MinWidth="100" >
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center" />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Student Name" Binding="{Binding StudentName}" Width="*" MaxWidth="1500"  MinWidth="200">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center" />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <DataGridTextColumn Header="Date"  Binding="{Binding Date}" Width="*"  MaxWidth="150"  MinWidth="100" >
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center" />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="*" MaxWidth="150"  MinWidth="150">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Absent">
                                            <Setter Property="Foreground" Value="Red" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                    </DataGrid.Columns>
                    
                    

                </DataGrid>
            </Grid>
            
        </TabItem>
        
        <!--take attendance-->

        <TabItem Header="Take Attendance" >

            <Grid Margin="12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="5.9*"/>

                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions >
                    <ColumnDefinition Width="1.9*"/>

                    <ColumnDefinition Width="1.2*"/>

                </Grid.ColumnDefinitions>

                <!-- Search and Filter Section -->

                <!--<DockPanel Grid.Row="0" Grid.Column="0"  Margin="10"
                   VerticalAlignment="Center" HorizontalAlignment="Stretch">-->


                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center"
                        HorizontalAlignment="Center" Margin="0,0,0,0" Width="Auto" >

                        <ComboBox x:Name="CourseComboBox2" Height="30" MinWidth="170" 
                                  DisplayMemberPath="Name" SelectedValuePath="CourseId"
                                  Margin="5" HorizontalAlignment="Stretch"
                                  VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                                  
                                  SelectionChanged="CourseComboBox2_SelectionChanged">

                        </ComboBox>

                    </StackPanel>
                <!--</DockPanel>-->

                

                    <StackPanel Orientation="Vertical" Grid.Row="0" Grid.Column="1"
                                VerticalAlignment="Center" HorizontalAlignment="Center"> 

                    <Button x:Name="Save_btn" Content="Save"
                            Style="{StaticResource Savebtn }"  Click="Save_btn_Click" >
                            
                      </Button>
                        

                    </StackPanel>


                <DataGrid x:Name="AttendanceDataGrid2" Grid.ColumnSpan="2" Grid.Row="1"
                          AutoGenerateColumns="False"
                          RowHeaderWidth="0"
                          VerticalGridLinesBrush="Transparent" 
                          HorizontalGridLinesBrush="Transparent"
                          Background="Transparent" 
                          BorderBrush="Transparent" 
                          BorderThickness="2"
                          CanUserResizeColumns="False"
                          CanUserResizeRows="False"
                           RowHeight="30"
                           ColumnHeaderHeight="30"
                          CanUserDeleteRows="False"
                          CanUserAddRows="False"
                          CanUserReorderColumns="False"
                          
                          RowStyle="{StaticResource DataGridRowStyle}"
                          ColumnHeaderStyle="{StaticResource DataGridColumnHeaderStyle}"  Margin="50,20,50,30" Width="auto"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Auto">
      
                    <!--column definitions-->
                    <DataGrid.Columns >

                        <DataGridTextColumn Header="Reg. No."  Binding="{Binding Registraton}" Width="*"  MaxWidth="100"  MinWidth="100" IsReadOnly="True" >
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center" />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <DataGridTextColumn Header="Student Name" Binding="{Binding StudentName}" Width="*" MaxWidth="1500"  MinWidth="200" IsReadOnly="True">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center" />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <DataGridTextColumn Header="Date"  Binding="{Binding Date}" Width="*"  MaxWidth="150"  MinWidth="100" IsReadOnly="True" >
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center" />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <DataGridTemplateColumn Header="Sataus"  Width="*" MaxWidth="150"  MinWidth="150" IsReadOnly="False">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button x:Name="Status_btn" Content="{Binding Status}" Background="Transparent"
                                            Width="80" 
                                            Height="25" 
                                            Margin="5"
                                            BorderThickness="0"
                                            Click="StatusButton_Click"
                                            HorizontalAlignment="Center" VerticalAlignment="Center">
                                       
                                    </Button>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                    </DataGrid.Columns>             
                   

                </DataGrid>
            </Grid>

        </TabItem>



    </TabControl>
</Page>
